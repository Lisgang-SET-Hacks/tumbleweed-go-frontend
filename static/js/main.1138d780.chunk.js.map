{"version":3,"sources":["images/logo/text_white.svg","util/funcs.js","OLMap.js","Info.js","Timeline.js","util/firebase.js","Login.js","AppBar.js","Notification.js","App.js","index.js"],"names":["module","exports","formatDateAsString","date","dateInfo","toDateString","split","formatAsCoordinate","latitude","longitude","decimals","dir1","dir2","toFixed","OLMap","props","initWithData","data","tumbleweedLayers","tumbleweedTrailLayers","i","sliderRange","push","setTumbleweedLayer","setTumbleweedTrailLayer","currentTumbleweedLayer","currentTumbleweedTrailLayer","initMap","deleteTumbleweed","index","layer","feature","getSource","getFeatureById","removeFeature","j","console","log","currentTumbleweedStyle","Style","image","Circle","radius","fill","Fill","color","stroke","Stroke","width","pastTumbleweedStyle","features","map","point","id","style","location","_latitude","_longitude","predictedLocations","length","n","Feature","geometry","Point","fromLonLat","setId","setStyle","VectorLayer","source","VectorSource","set","trailStyle","forEach","lat1","lon1","lat2","lon2","LineString","mapLayer","TileLayer","className","BingMaps","key","imagerySet","popupOverlay","Overlay","element","popupRef","current","positioning","stopEvent","offset","Map","layers","overlays","target","mapRef","view","View","center","zoom","minZoom","maxZoom","on","e","deselectTumbleweed","forEachFeatureAtPixel","pixel","get","selectTumbleweed","getTarget","cursor","String","getId","splice","tumbleweedId","predictedLocationId","undefined","updateSelectedTumbleweedDataFunc","showPopup","hidePopup","coordRaw","getGeometry","getCoordinates","coordLonLat","transform","innerHTML","display","setPosition","refreshPopup","selectedTumbleweedIndex","getFeatures","showTumbleweedLayer","callback","removeLayer","addLayer","React","createRef","prevProps","prevState","this","day","deleteTumbleweedFlag","ref","Component","Info","render","predictionIndex","Typography","component","align","currentLocation","Math","min","dangerouslySetInnerHTML","__html","Divider","Date","uploadTime","toLocaleDateString","toLocaleTimeString","uploadLocation","Card","variant","paddingBottom","marginBottom","CardActionArea","onClick","alert","src","alt","Button","startIcon","accessToken","disableElevation","removeTumbleweedFunc","Timeline","state","sliderMarks","setSliderMarks","value","label","now","setState","Slider","onChange","onTimelineChangeFunc","max","marks","firebase","initializeApp","firebaseConfig","auth","Login","open","showErrorMsg","errorMsg","form","email","password","msg","hideErrorMsg","close","handleFormChange","name","getAttribute","login","fb","signInWithEmailAndPassword","then","res","token","user","xa","setAccessTokenFunc","addNotificationFunc","catch","err","code","logout","signOut","onAuthStateChanged","Dialog","maxWidth","DialogTitle","DialogContent","TextField","type","fullWidth","defaultValue","autoFocus","DialogActions","CustomAppBar","AppBar","position","Toolbar","paddingLeft","flexGrow","textAlign","logo_textWhite","height","paddingTop","imageRendering","draggable","disabled","refreshPredictionsDisabled","refreshTumbleweedDataFunc","Notification","Paper","severity","elevation","Container","padding","title","body","IconButton","closeFunc","_id","App","tumbleweedData","selectedTumbleweedData","tumbleweedIndex","refreshTumbleweedDataSnackbarIsOpen","removeTumbleweedDialogIsOpen","notifications","setAccessToken","refreshTumbleweedData","formData","FormData","append","axios","method","url","headers","addNotification","closeRefreshTumbleweedDataSnackbar","getData","cb","status","result","getSelectedTumbleweedData","onTimelineChange","val","updateSelectedTumbleweedData","openRemoveTumbleweedDialog","handleTumbleweedDialogClose","response","removeTumbleweed","initData","duration","newNotificationId","random","obj","setTimeout","removeNotification","filter","gutterBottom","theme","createMuiTheme","palette","primary","main","brown","ReactDOM","StrictMode","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.1138d780.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/text_white.a7cace2a.svg\";","const formatDateAsString = (date) => {\r\n  let dateInfo = date.toDateString().split(' ');\r\n  return dateInfo[0] + ' ' + dateInfo[2];  // Take day and date.\r\n}\r\n\r\nconst formatAsCoordinate = (latitude, longitude, decimals = 5) => {\r\n  let dir1 = latitude < 0 ? 'S' : 'N';\r\n  let dir2 = longitude < 0 ? 'W' : 'E';\r\n  return `${latitude.toFixed(decimals)}&#xb0;${dir1}, ${longitude.toFixed(decimals)}&#xb0;${dir2}`;\r\n}\r\n\r\nexport { formatDateAsString, formatAsCoordinate };\r\n","import React from 'react';\r\n\r\nimport { Map, Feature, View, Overlay } from 'ol';\r\nimport { fromLonLat, transform } from 'ol/proj';\r\nimport { Point, LineString } from 'ol/geom';\r\nimport { Tile as TileLayer, Vector as VectorLayer } from 'ol/layer';\r\nimport { Vector as VectorSource, BingMaps } from 'ol/source';\r\nimport { Circle, Fill, Stroke, Style } from 'ol/style';\r\n\r\nimport { formatAsCoordinate } from './util/funcs';\r\n\r\nimport 'ol/ol.css';\r\n\r\nclass OLMap extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.map = null;\r\n    this.popupOverlay = null;\r\n    this.tumbleweedLayers = null;\r\n    this.tumbleweedTrailLayers = null;\r\n    this.currentTumbleweedLayer = null;\r\n    this.currentTumbleweedLayer = null;\r\n    this.mapRef = React.createRef();\r\n    this.popupRef = React.createRef();\r\n  }\r\n\r\n  initWithData = (data) => {\r\n    this.tumbleweedLayers = [];\r\n    this.tumbleweedTrailLayers = [];\r\n    for (let i = 0; i < this.props.sliderRange; i++) {\r\n      this.tumbleweedLayers.push(this.setTumbleweedLayer(data, i - 1));\r\n      this.tumbleweedTrailLayers.push(this.setTumbleweedTrailLayer(data, i - 1));\r\n    }\r\n    this.currentTumbleweedLayer = this.tumbleweedLayers[0]\r\n    this.currentTumbleweedTrailLayer = this.tumbleweedTrailLayers[0]\r\n    this.initMap();\r\n  }\r\n\r\n  deleteTumbleweed = (index) => {\r\n    // Remove \"current\" tumbleweed.\r\n    let layer = this.tumbleweedLayers[0];\r\n    let feature = layer.getSource().getFeatureById(`tumbleweed_${index}`);\r\n    if (feature) {\r\n      layer.getSource().removeFeature(feature);\r\n    }\r\n    // Remove predicted tumbleweeds.\r\n    for (let i = 1; i < this.props.sliderRange; i++) {\r\n      let layer = this.tumbleweedLayers[i];\r\n      let feature = layer.getSource().getFeatureById(`tumbleweed_${index}_${i - 1}`);\r\n      if (feature) {\r\n        layer.getSource().removeFeature(feature);\r\n      }\r\n    }\r\n    // Remove trails.\r\n    for (let i = 0; i < this.props.sliderRange; i++) {\r\n      let layer = this.tumbleweedTrailLayers[i];\r\n      for (let j = 0; j <= i; j++) {\r\n        console.log(index, i - 1, j);\r\n        let feature = layer.getSource().getFeatureById(`tumbleweedTrail_${index}_${i - 1}_${j}`);\r\n        if (feature) {\r\n          layer.getSource().removeFeature(feature);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  setTumbleweedLayer = (data, index) => {\r\n\r\n    let currentTumbleweedStyle = new Style({\r\n      image: new Circle({\r\n        radius: 8,\r\n        fill: new Fill({ color: '#e3af2b' }),\r\n        stroke: new Stroke({ color: '#664e13', width: 2 })\r\n      })\r\n    });\r\n\r\n    let pastTumbleweedStyle = new Style({\r\n      image: new Circle({\r\n        radius: 8,\r\n        fill: new Fill({ color: '#e2cf9e' }),\r\n        stroke: new Stroke({ color: '#664e13', width: 2 })\r\n      })\r\n    });\r\n\r\n    // Draw tumbleweeds.\r\n\r\n    let features = data.map((point, i) => {\r\n\r\n      let style = currentTumbleweedStyle;\r\n\r\n      let id, longitude, latitude;\r\n      \r\n      if (index === -1) {\r\n        id = `tumbleweed_${i}`;\r\n        latitude = point.location._latitude;\r\n        longitude = point.location._longitude;\r\n      }\r\n      else if (point.predictedLocations.length === 0) {\r\n        id = `tumbleweed_${i}`;\r\n        latitude = point.location._latitude;\r\n        longitude = point.location._longitude;\r\n        style = pastTumbleweedStyle;\r\n      }\r\n      else if (index < point.predictedLocations.length) {\r\n        id = `tumbleweed_${i}_${index}`;\r\n        latitude = point.predictedLocations[index]._latitude;\r\n        longitude = point.predictedLocations[index]._longitude;\r\n      }\r\n      else {\r\n        let n = point.predictedLocations.length - 1;\r\n        id = `tumbleweed_${i}_${n}`;\r\n        latitude = point.predictedLocations[n]._latitude;\r\n        longitude = point.predictedLocations[n]._longitude;\r\n        style = pastTumbleweedStyle;\r\n      }\r\n\r\n      let feature = new Feature({\r\n        geometry: new Point(fromLonLat([\r\n          longitude, latitude\r\n        ]))\r\n      });\r\n      feature.setId(id);\r\n      feature.setStyle(style);\r\n      return feature;\r\n    });\r\n\r\n    let layer = new VectorLayer({\r\n      source: new VectorSource({ features: features })\r\n    });\r\n    layer.set('name', 'tumbleweeds');\r\n    return layer;\r\n  }\r\n\r\n  setTumbleweedTrailLayer = (data, index) => {\r\n\r\n    let trailStyle = new Style({\r\n      stroke: new Stroke({ color: '#664e13', width: 4 })\r\n    });\r\n\r\n    // Draw trail.\r\n\r\n    let features = [];\r\n\r\n    if (index !== -1) {\r\n      // Loop day by day.\r\n      for (let j = 0; j <= index; j++){\r\n        // Loop through tumbleweeds.\r\n        data.forEach((point, i) => {\r\n          // Only draw prediction lines if predictions extend far enough.\r\n          if (j < point.predictedLocations.length) {\r\n            let lat1 = j === 0 ? point.location._latitude : point.predictedLocations[j - 1]._latitude;\r\n            let lon1 = j === 0 ? point.location._longitude : point.predictedLocations[j - 1]._longitude;\r\n            let lat2 = point.predictedLocations[j]._latitude;\r\n            let lon2 = point.predictedLocations[j]._longitude;\r\n\r\n            let feature = new Feature({\r\n              geometry: new LineString([\r\n                fromLonLat([ lon1, lat1 ]),\r\n                fromLonLat([ lon2, lat2 ])\r\n              ])\r\n            });\r\n            feature.setId(`tumbleweedTrail_${i}_${index}_${j}`)\r\n            feature.setStyle(trailStyle);\r\n            features.push(feature);\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    let layer = new VectorLayer({\r\n      source: new VectorSource({ features: features })\r\n    });\r\n    layer.set('name', 'tumbleweedTrails');\r\n    return layer;\r\n  }\r\n\r\n  initMap = () => {\r\n\r\n    let mapLayer = new TileLayer({\r\n      className: 'map__bingMaps',\r\n      source: new BingMaps({\r\n        key: 'AtMr0RAC0iKdKPPPsGSPqIFCxjk7XpR9rq99IQR5vDBoax8u1KuYvOinwtsiQcFI',\r\n        imagerySet: 'AerialWithLabelsOnDemand'\r\n      })\r\n    });\r\n\r\n    this.popupOverlay = new Overlay({\r\n      element: this.popupRef.current,\r\n      positioning: 'bottom-center',\r\n      stopEvent: false,\r\n      offset: [ 0, -16 ]\r\n    });\r\n    \r\n    this.map = new Map({\r\n      layers: [ mapLayer, this.currentTumbleweedTrailLayer, this.currentTumbleweedLayer ],\r\n      overlays: [ this.popupOverlay ],\r\n      target: this.mapRef.current,\r\n      view: new View({\r\n        center: fromLonLat([ -97, 42 ]),\r\n        zoom: 5,\r\n        minZoom: 5,\r\n        maxZoom: 15\r\n      })\r\n    });\r\n\r\n    this.map.on('click', e => {\r\n      // Default to no selection.\r\n      this.deselectTumbleweed();\r\n      // Select if applicable.\r\n      this.map.forEachFeatureAtPixel(e.pixel, (feature, layer) => {\r\n        if (layer.get('name') === 'tumbleweeds') {\r\n          this.selectTumbleweed(feature);\r\n          return true;\r\n        }\r\n      });\r\n    });\r\n\r\n    this.map.on('pointermove', e => {\r\n      // Default to no selection.\r\n      this.map.getTarget().style.cursor = '';\r\n      // Select if applicable.\r\n      this.map.forEachFeatureAtPixel(e.pixel, (feature, layer) => {\r\n        if (layer.get('name') === 'tumbleweeds') {\r\n          this.map.getTarget().style.cursor = 'pointer';\r\n          return true;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  selectTumbleweed = (feature) => {\r\n    let [ tumbleweedId, predictedLocationId ] = String(feature.getId()).split('_').splice(1);  // Ignore the first element.\r\n    if (predictedLocationId !== undefined) {\r\n      this.props.updateSelectedTumbleweedDataFunc(tumbleweedId, predictedLocationId);\r\n    }\r\n    else {\r\n      this.props.updateSelectedTumbleweedDataFunc(tumbleweedId, -1);\r\n    }\r\n    this.showPopup(feature);\r\n  }\r\n\r\n  deselectTumbleweed = () => {\r\n    this.props.updateSelectedTumbleweedDataFunc(-1, -1);\r\n    this.hidePopup();\r\n  }\r\n\r\n  showPopup = (feature) => {\r\n    let coordRaw = feature.getGeometry().getCoordinates();\r\n    let coordLonLat = transform(coordRaw, 'EPSG:3857', 'EPSG:4326');\r\n    \r\n    this.popupRef.current.innerHTML = formatAsCoordinate(coordLonLat[1], coordLonLat[0], 3);\r\n    this.popupRef.current.style.display = 'block';\r\n    this.popupOverlay.setPosition(coordRaw);\r\n  }\r\n\r\n  hidePopup = () => {\r\n    this.popupRef.current.style.display = 'none';\r\n  }\r\n\r\n  refreshPopup = () => {\r\n    if (this.props.selectedTumbleweedIndex !== -1) {\r\n      let features = this.currentTumbleweedLayer.getSource().getFeatures();\r\n      this.showPopup(features[this.props.selectedTumbleweedIndex]);\r\n    }\r\n  }\r\n\r\n  showTumbleweedLayer = (index, callback = (() => {})) => {\r\n    this.map.removeLayer(this.currentTumbleweedTrailLayer);\r\n    this.map.removeLayer(this.currentTumbleweedLayer);\r\n    this.map.addLayer(this.tumbleweedTrailLayers[index]);\r\n    this.map.addLayer(this.tumbleweedLayers[index]);\r\n    this.currentTumbleweedLayer = this.tumbleweedLayers[index];\r\n    this.currentTumbleweedTrailLayer = this.tumbleweedTrailLayers[index];\r\n    callback();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.data !== this.props.data) {\r\n      this.initWithData(this.props.data);\r\n    }\r\n    if (prevProps.day !== this.props.day) {\r\n      this.showTumbleweedLayer(this.props.day, () => {\r\n        this.refreshPopup();\r\n      });\r\n    }\r\n    if (prevProps.deleteTumbleweedFlag !== this.props.deleteTumbleweedFlag) {\r\n      this.deselectTumbleweed();\r\n      this.deleteTumbleweed(this.props.selectedTumbleweedIndex);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div ref={this.mapRef} className='map'>\r\n        <div ref={this.popupRef} className='map__popup' style={{display: 'none'}} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default OLMap;\r\n","import React from 'react';\r\nimport { Typography, Divider, Card, CardActionArea, Button } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport { formatAsCoordinate } from './util/funcs';\r\n\r\nclass Info extends React.Component {\r\n\r\n  render = ()  => {\r\n\r\n    let { data, predictionIndex } = this.props;\r\n\r\n    if (!data) {\r\n      return (\r\n        <Typography component='div' align='center'>\r\n          <h4>No tumbleweed selected.</h4>\r\n        </Typography>\r\n      );\r\n    }\r\n\r\n    let currentLocation = data.location;\r\n    if (data.predictedLocations.length > 0) {\r\n      if (predictionIndex !== -1) {\r\n        let index = Math.min(predictionIndex, data.predictedLocations.length - 1);\r\n        currentLocation = data.predictedLocations[index];\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Typography component='div' align='center'>\r\n        <h4>Current position (est.)</h4>\r\n        <p dangerouslySetInnerHTML={{\r\n          __html: formatAsCoordinate(currentLocation._latitude, currentLocation._longitude)\r\n        }} />\r\n        <Divider />\r\n        <h4>Initial sighting time</h4>\r\n        <p>\r\n          {(new Date(data.uploadTime)).toLocaleDateString()}\r\n          <br />\r\n          {(new Date(data.uploadTime)).toLocaleTimeString()}\r\n        </p>\r\n        <h4>Initial sighting position</h4>\r\n        <p dangerouslySetInnerHTML={{\r\n          __html: formatAsCoordinate(data.uploadLocation._latitude, data.uploadLocation._longitude)\r\n        }} />\r\n        <h4>Initial sighting image</h4>\r\n        <Card className='aspect-ratio' variant='outlined' style={{paddingBottom: '75%', marginBottom: '1em'}}>\r\n          <div>\r\n            <CardActionArea onClick={() => alert('test')}>\r\n            <img src='https://picsum.photos/400' alt='Initial sighting' />\r\n            </CardActionArea>\r\n          </div>\r\n        </Card>\r\n        <Button\r\n          startIcon={<DeleteIcon />}\r\n          className={this.props.accessToken ? null : 'hidden'}\r\n          variant='contained'\r\n          color='primary'\r\n          disableElevation\r\n          onClick={this.props.removeTumbleweedFunc}\r\n        >\r\n          Remove this tumbleweed\r\n        </Button>\r\n      </Typography>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Info;\r\n","import React from 'react';\r\nimport { Typography, Slider } from '@material-ui/core';\r\n\r\nimport { formatDateAsString } from './util/funcs';\r\n\r\nclass Timeline extends React.Component {\r\n\r\n  state = {\r\n    sliderMarks: []\r\n  }\r\n\r\n  setSliderMarks = () => {\r\n\r\n    let sliderMarks = [\r\n      { value: 0, label: <b>Today</b> },\r\n      { value: 1, label: 'Tomorrow' }\r\n    ];\r\n    \r\n    let millisToDay = 1000 * 60 * 60 * 24;\r\n    for (let i = 2; i < this.props.sliderRange; i++) {\r\n      let date = new Date(Date.now() + millisToDay * i);\r\n      sliderMarks.push({\r\n        value: i,\r\n        label: formatDateAsString(date)\r\n      });\r\n    }\r\n\r\n    this.setState({ sliderMarks: sliderMarks });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setSliderMarks();\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <Typography component='div' align='center'>\r\n        <h4>Movement predictions (USA only)</h4>\r\n        <p>\r\n          <Slider\r\n            className='timeline__slider'\r\n            onChange={this.props.onTimelineChangeFunc}\r\n            min={0}\r\n            max={this.props.sliderRange - 1}\r\n            marks={this.state.sliderMarks}\r\n          />\r\n        </p>\r\n      </Typography>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Timeline;\r\n","import firebase from 'firebase/app';\r\nimport firebaseConfig from './firebase-credentials.json';\r\n\r\nimport 'firebase/auth';\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nlet auth = firebase.auth();\r\n\r\nexport { auth };\r\n","import React from 'react';\r\nimport { Typography, Button, Dialog, DialogTitle, DialogContent, DialogActions, TextField } from '@material-ui/core';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\n\r\nimport * as fb from './util/firebase';\r\n\r\nclass Login extends React.Component {\r\n\r\n  state = {\r\n    open: false,\r\n    showErrorMsg: false,\r\n    errorMsg: ''\r\n  }\r\n\r\n  form = { email: '', password: '' }\r\n\r\n  showErrorMsg = (msg) => this.setState({ showErrorMsg: true, errorMsg: msg });\r\n  hideErrorMsg = ()    => this.setState({ showErrorMsg: false });\r\n\r\n  open  = () =>  this.setState({ open: true, showErrorMsg: false });  // No need to clear input fields -> they are automatically cleared with the defaultValue prop.\r\n  close = () => this.setState({ open: false });\r\n\r\n  handleFormChange = (e) => {\r\n    let name = e.target.getAttribute('name');\r\n    this.form[name] = e.target.value;\r\n  }\r\n\r\n  login = () => {\r\n\r\n    let { email, password } = this.form;\r\n\r\n    if (!email || !password) {\r\n      this.showErrorMsg('All fields are required.');\r\n      return;\r\n    }\r\n\r\n    fb.auth.signInWithEmailAndPassword(email, password).then(res => {\r\n      // Login success.\r\n      let token = res.user.xa;\r\n      this.props.setAccessTokenFunc(token);\r\n      this.props.addNotificationFunc('Success', 'Log in successful.', 'success', 3000);\r\n      this.close();\r\n    }).catch(err => {\r\n      // Login fail.\r\n      if (err.code === 'auth/invalid-email') {\r\n        this.showErrorMsg('Invalid email.');\r\n      }\r\n      else if (err.code === 'auth/user-disabled') {\r\n        this.showErrorMsg('The account has been disabled by an administrator.');\r\n      }\r\n      else if (err.code === 'auth/user-not-found' || err.code === 'auth/wrong-password') {\r\n        this.showErrorMsg('Invalid credentials.');\r\n      }\r\n      else {\r\n        console.log(err);\r\n        this.showErrorMsg('An unexpected error occurred.');\r\n      }\r\n    });\r\n  }\r\n\r\n  logout = () => {\r\n    fb.auth.signOut().then(() => {\r\n      this.props.addNotificationFunc('Success', 'Log out successful.', 'success', 3000);\r\n    }).catch(err => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Check if user is signed in.\r\n    fb.auth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        let token = user.xa;\r\n        this.props.setAccessTokenFunc(token);\r\n      }\r\n      else {\r\n        this.props.setAccessTokenFunc(null);\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Button\r\n          className={this.props.accessToken ? 'hidden' : null}\r\n          startIcon={<AccountCircleIcon />}\r\n          variant='contained'\r\n          color='primary'\r\n          disableElevation\r\n          onClick={this.open}\r\n        >\r\n          Log in\r\n        </Button>\r\n        <Button\r\n          className={this.props.accessToken ? null : 'hidden'}\r\n          startIcon={<AccountCircleIcon />}\r\n          variant='contained'\r\n          color='primary'\r\n          disableElevation\r\n          onClick={this.logout}\r\n        >\r\n          Log out\r\n        </Button>\r\n        <Dialog maxWidth='sm' open={this.state.open}>\r\n          <DialogTitle>Log in</DialogTitle>\r\n          <DialogContent>\r\n            <TextField\r\n              type='email'\r\n              fullWidth\r\n              label='Email' name='email'\r\n              onChange={this.handleFormChange}\r\n              defaultValue=''\r\n              autoFocus\r\n            />\r\n            <TextField\r\n              type='password'\r\n              fullWidth\r\n              label='Password' name='password'\r\n              onChange={this.handleFormChange}\r\n              defaultValue=''\r\n            />\r\n            <Typography component='div' className={this.state.showErrorMsg ? null : 'hidden'}>\r\n              <p>{this.state.errorMsg}</p>\r\n            </Typography>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button autoFocus onClick={this.close} color='primary'>Cancel</Button>\r\n            <Button onClick={this.login} color='primary'>Log in</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { AppBar, Toolbar, Typography, Button } from '@material-ui/core';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\n\r\nimport Login from './Login';\r\n\r\nimport logo_textWhite from './images/logo/text_white.svg';\r\n\r\nclass CustomAppBar extends React.Component {\r\n\r\n  render() {\r\n\r\n    return (\r\n      <AppBar position='static'>\r\n        <Toolbar style={{paddingLeft: 0}}>  {/* No padding left to accomodate logo positioning. */}\r\n          <Typography variant='h5' style={{flexGrow: 1}}>\r\n            <div style={{ width: 400, textAlign: 'center' }}>\r\n              <img src={logo_textWhite} style={{height: '1.2em', paddingTop: '0.2em', imageRendering: 'crisp-edges'}} draggable={false} alt='Logo' />\r\n            </div>\r\n          </Typography>\r\n          <Button\r\n            className={this.props.accessToken ? null : 'hidden'}\r\n            startIcon={<RefreshIcon />}\r\n            variant='contained'\r\n            color='primary'\r\n            disableElevation\r\n            disabled={this.props.refreshPredictionsDisabled}\r\n            onClick={this.props.refreshTumbleweedDataFunc}\r\n          >\r\n            Reset Predictions\r\n          </Button>\r\n          <Login\r\n            accessToken={this.props.accessToken}\r\n            setAccessTokenFunc={this.props.setAccessTokenFunc}\r\n            addNotificationFunc={this.props.addNotificationFunc}\r\n          />\r\n        </Toolbar>\r\n      </AppBar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CustomAppBar;\r\n","import React from 'react';\r\nimport { Container, Paper, Typography, IconButton } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nimport './Notification.css';\r\n\r\nclass Notification extends React.Component {\r\n  \r\n  render() {\r\n    return (\r\n      <Paper className={'notification ' + this.props.severity} elevation={3}>\r\n        <Container className='container' maxWidth='xs'>\r\n          <Typography component='div' style={{ padding: '0 1em' }}>\r\n            <h4>{this.props.title}</h4>\r\n            <p>{this.props.body}</p>\r\n          </Typography>\r\n          <IconButton className='closeIcon' onClick={() => this.props.closeFunc(this.props._id)}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </Container>\r\n      </Paper>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Notification;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport { Container, Button, Typography, Dialog, DialogTitle, DialogContent, DialogActions } from '@material-ui/core';\r\n\r\nimport OLMap from './OLMap';\r\nimport Info from './Info';\r\nimport Timeline from './Timeline';\r\nimport AppBar from './AppBar';\r\nimport Notification from './Notification';\r\n\r\nimport './App.css';\r\n\r\nclass App extends React.Component {\r\n\r\n  state = {\r\n    day: 0,\r\n    sliderMarks: [],\r\n    sliderRange: 8,  // 7 days in advance\r\n    tumbleweedData: [],\r\n    selectedTumbleweedData: {\r\n      tumbleweedIndex: -1,\r\n      predictionIndex: -1\r\n    },\r\n    refreshPredictionsDisabled: false,\r\n    refreshTumbleweedDataSnackbarIsOpen: false,\r\n    removeTumbleweedDialogIsOpen: false,\r\n    notifications: [],\r\n    deleteTumbleweedFlag: 0,\r\n\r\n    accessToken: null\r\n  };\r\n\r\n  setAccessToken = (xa) => {\r\n    this.setState({ accessToken: xa });\r\n  }\r\n\r\n  refreshTumbleweedData = () => {\r\n\r\n    this.setState({\r\n      refreshPredictionsDisabled: true,\r\n      refreshTumbleweedDataSnackbarIsOpen: false\r\n    });\r\n    \r\n    let url = 'https://tumbleweed-go-284013.ue.r.appspot.com/tumbleweed/update';\r\n    let formData = new FormData();\r\n    formData.append('forced', 'true');\r\n    axios({\r\n      method: 'post',\r\n      url: url,\r\n      data: formData,\r\n      headers: { 'Content-Type': 'multipart/form-data' }\r\n    }).then(() => {\r\n      this.setState({\r\n        refreshPredictionsDisabled: false,\r\n        refreshTumbleweedDataSnackbarIsOpen: true\r\n      });\r\n      this.addNotification(null, 'Tumbleweed movement predictions reset! Refresh the page to see the updates.', 'info', 0);\r\n    }).catch(err => {\r\n      console.log('big rip ' + err);\r\n    });\r\n  }\r\n\r\n  closeRefreshTumbleweedDataSnackbar = () => {\r\n    this.setState({ refreshTumbleweedDataSnackbarIsOpen: false });\r\n  }\r\n\r\n  getData = (cb) => {\r\n    let url = 'https://tumbleweed-go-284013.ue.r.appspot.com/tumbleweed/get';\r\n    axios.get(url).then(res => {\r\n      if (res.status && res.status === 200) {\r\n        cb(res.data.result);\r\n      }\r\n      else {\r\n        console.log('rip ' + res.status);\r\n      }\r\n    }).catch(err => {\r\n      console.log('big rip ' + err);\r\n    });\r\n  }\r\n\r\n  getSelectedTumbleweedData = () => {\r\n    let index = this.state.selectedTumbleweedData.tumbleweedIndex;\r\n    return index === -1 ? null : this.state.tumbleweedData[index];\r\n  }\r\n\r\n  onTimelineChange = (e, val) => {\r\n    this.setState({ day: val });\r\n    this.updateSelectedTumbleweedData(this.state.selectedTumbleweedData.tumbleweedIndex, val - 1);\r\n  }\r\n\r\n  updateSelectedTumbleweedData = (tumbleweedIndex, predictionIndex) => {\r\n    this.setState({\r\n      selectedTumbleweedData: {\r\n        tumbleweedIndex: tumbleweedIndex,\r\n        predictionIndex: predictionIndex\r\n      }\r\n    });\r\n  }\r\n\r\n  openRemoveTumbleweedDialog = () => this.setState({ removeTumbleweedDialogIsOpen: true });\r\n\r\n  handleTumbleweedDialogClose = (response) => {\r\n    this.setState({ removeTumbleweedDialogIsOpen: false });\r\n    if (response) {\r\n      this.removeTumbleweed((status) => {\r\n        if (status === 200) {\r\n          this.addNotification('Success', 'Tumbleweed has been removed.', 'success', 3000);\r\n          this.setState({ deleteTumbleweedFlag: Date.now() });\r\n        }\r\n        else {\r\n          this.addNotification('Error', 'There was an error removing the tumbleweed.', 'error', 3000);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  removeTumbleweed = (cb) => {\r\n    let url = 'https://tumbleweed-go-284013.ue.r.appspot.com/tumbleweed/delete';\r\n    let tumbleweedIndex = this.state.selectedTumbleweedData.tumbleweedIndex;\r\n    let formData = new FormData();\r\n    formData.append('id', this.state.tumbleweedData[tumbleweedIndex]._id);\r\n    axios({\r\n      method: 'post',\r\n      url: url,\r\n      data: formData,\r\n      headers: { 'Content-Type': 'multipart/form-data' }\r\n    }).then(res => {\r\n      if (res.status && res.status === 200) {\r\n        cb(res.status);\r\n      }\r\n      else {\r\n        console.log('rip ' + res.status);\r\n        cb(res.status);\r\n      }\r\n    }).catch(err => {\r\n      console.log('big rip ' + err);\r\n      cb(500);\r\n    });\r\n  }\r\n\r\n  initData = () => {\r\n    this.getData(data => {\r\n      this.setState({ tumbleweedData: data });\r\n    });\r\n  }\r\n\r\n  addNotification = (title, body, severity, duration) => {\r\n\r\n    let newNotificationId = `${Date.now()}_${Math.random()}`\r\n    let obj = {\r\n      id: newNotificationId,\r\n      title: title,\r\n      body: body,\r\n      severity: severity\r\n    };\r\n\r\n    if (duration !== 0) {\r\n      setTimeout(() => {\r\n        this.removeNotification(newNotificationId);\r\n      }, duration);\r\n    }\r\n\r\n    this.setState(state => ({\r\n      notifications: [ ...state.notifications, obj ]\r\n    }));\r\n  }\r\n\r\n  removeNotification = (id) => {\r\n    this.setState(state => ({\r\n      notifications: state.notifications.filter(n => n.id !== id)\r\n    }));\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.initData();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className='appContainer'>\r\n          <div className='map__wrapper'>\r\n            <OLMap\r\n              data={this.state.tumbleweedData}\r\n              day={this.state.day}\r\n              sliderRange={this.state.sliderRange}\r\n              selectedTumbleweedIndex={this.state.selectedTumbleweedData.tumbleweedIndex}\r\n              deleteTumbleweedFlag={this.state.deleteTumbleweedFlag}\r\n              updateSelectedTumbleweedDataFunc={this.updateSelectedTumbleweedData}\r\n            />\r\n          </div>\r\n          <Container maxWidth={false} className='info'>\r\n            <Info\r\n              data={this.getSelectedTumbleweedData()}\r\n              predictionIndex={this.state.selectedTumbleweedData.predictionIndex}\r\n              removeTumbleweedFunc={this.openRemoveTumbleweedDialog}\r\n              accessToken={this.state.accessToken}\r\n            />\r\n          </Container>\r\n          <Container maxWidth={false} className='timeline'>\r\n            <Timeline\r\n              sliderRange={this.state.sliderRange}\r\n              onTimelineChangeFunc={this.onTimelineChange}\r\n            />\r\n          </Container>\r\n          <div className='topBar'>\r\n            <AppBar\r\n              refreshPredictionsDisabled={this.state.refreshPredictionsDisabled}\r\n              refreshTumbleweedDataFunc={this.refreshTumbleweedData}\r\n              setAccessTokenFunc={this.setAccessToken}\r\n              addNotificationFunc={this.addNotification}\r\n              accessToken={this.state.accessToken}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <Dialog maxWidth='sm' open={this.state.removeTumbleweedDialogIsOpen}>\r\n          <DialogTitle>Confirm</DialogTitle>\r\n          <DialogContent>\r\n            <Typography gutterBottom>\r\n              Are you sure you would like to remove this tumbleweed?\r\n            </Typography>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button autoFocus onClick={() => this.handleTumbleweedDialogClose(false)} color='primary'>\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={() => this.handleTumbleweedDialogClose(true)} color='primary'>\r\n              Confirm\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <div id='notification-container'>\r\n          {\r\n            this.state.notifications.map(n => {\r\n              return <Notification\r\n                key={n.id}\r\n                _id={n.id}\r\n                title={n.title}\r\n                body={n.body}\r\n                severity={n.severity}\r\n                closeFunc={this.removeNotification}\r\n              />\r\n            })\r\n          }\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport { brown } from '@material-ui/core/colors';\r\nimport App from './App';\r\n\r\nimport './index.css';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: brown[500],\r\n    },\r\n  },\r\n});\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <ThemeProvider theme={theme}>\r\n      <App />\r\n    </ThemeProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}