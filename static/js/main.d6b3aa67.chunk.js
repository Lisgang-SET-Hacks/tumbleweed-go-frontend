(this["webpackJsonptumbleweed-go-frontend"]=this["webpackJsonptumbleweed-go-frontend"]||[]).push([[0],{111:function(e,t,a){e.exports=a(141)},116:function(e,t,a){},136:function(e,t,a){},141:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a.n(n),o=a(60),i=a.n(o),s=(a(116),a(61)),l=a(62),c=a(75),d=a(74),u=a(157),m=a(90),p=a.n(m),w=a(156),y=a(158),f=a(93),b=a(6),g=a(91),h=a(163),v=a(159),L=a(162),k=a(161),S=a(160),T=a(79),_=a(80),O=a(78),j=a(58),M=(a(134),function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).getData=function(e){p.a.get("https://tumbleweed-go-284013.ue.r.appspot.com/tumbleweed/get").then((function(t){t.status&&200===t.status?e(t.data.result):console.log("rip "+t.status)})).catch((function(e){console.log("big rip "+e)}))},n.setAllTumbleweedLayers=function(e){for(var t=[],a=0;a<n.props.sliderRange;a++)t.push(n.setSingleTumbleweedLayer(e,a-1));n.setState({tumbleweedLayers:t,currentTumbleweedLayer:t[0]})},n.setSingleTumbleweedLayer=function(e,t){var a=new T.b({image:new _.a({radius:7,fill:new O.a({color:"#e3af2b"}),stroke:new j.a({color:"#664e13",width:2})})}),n=new T.b({image:new _.a({radius:7,fill:new O.a({color:"#e2cf9e"}),stroke:new j.a({color:"#664e13",width:2})})}),r=new T.b({stroke:new j.a({color:"#664e13",width:3})}),o=e.map((function(e,r){var o,i,s=a;-1===t?(i=e.location._lat,o=e.location._long):0===e.predictedLocations.length?(i=e.location._lat,o=e.location._long,s=n):t<e.predictedLocations.length?(i=e.predictedLocations[t]._lat,o=e.predictedLocations[t]._long):(i=e.predictedLocations[e.predictedLocations.length-1]._lat,o=e.predictedLocations[e.predictedLocations.length-1]._long,s=n);var l=new w.a({geometry:new g.a(Object(b.d)([o,i]))});return l.setStyle(s),l}));if(-1!==t)for(var i=function(t){e.forEach((function(e){if(t<e.predictedLocations.length){var a=0===t?e.location._lat:e.predictedLocations[t-1]._lat,n=0===t?e.location._long:e.predictedLocations[t-1]._long,i=e.predictedLocations[t]._lat,s=e.predictedLocations[t]._long,l=new w.a({geometry:new h.a([Object(b.d)([n,a]),Object(b.d)([s,i])])});l.setStyle(r),o.push(l)}}))},s=0;s<=t;s++)i(s);return new v.a({source:new k.a({features:o})})},n.initMap=function(){var e=new L.a({className:"bingMaps",source:new S.a({key:"AtMr0RAC0iKdKPPPsGSPqIFCxjk7XpR9rq99IQR5vDBoax8u1KuYvOinwtsiQcFI",imagerySet:"AerialWithLabelsOnDemand"})});n.map=new y.a({layers:[e,n.state.currentTumbleweedLayer],target:n.mapRef.current,view:new f.a({center:Object(b.d)([-110,46]),zoom:5,minZoom:5,maxZoom:11})})},n.showTumbleweedLayer=function(e){n.map.removeLayer(n.state.currentTumbleweedLayer),n.map.addLayer(n.state.tumbleweedLayers[e]),n.setState({currentTumbleweedLayer:n.state.tumbleweedLayers[e]})},n.state={tumbleweedLayers:[],currentTumbleweedLayer:null},n.map=null,n.mapRef=r.a.createRef(),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getData((function(t){e.setAllTumbleweedLayers(t),e.initMap()}))}},{key:"componentDidUpdate",value:function(e,t){e.day!==this.props.day&&this.showTumbleweedLayer(this.props.day)}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.mapRef,className:"map"})}}]),a}(r.a.Component)),R=(a(136),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]),E=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={day:0,sliderMarks:[],sliderRange:8},e.setSliderMarks=function(){for(var t=[{value:0,label:r.a.createElement("b",null,"Today")},{value:1,label:"Tomorrow"}],a=(new Date).getDay()+2,n=2;n<e.state.sliderRange;n++)t.push({value:n,label:R[a%7]}),a++;e.setState({sliderMarks:t})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setSliderMarks()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement(M,{day:this.state.day,sliderRange:this.state.sliderRange}),r.a.createElement("div",{className:"controls"},r.a.createElement("h3",{style:{marginTop:0}},"View movement predictions (USA only):"),r.a.createElement(u.a,{id:"slider",className:"controls__slider",onChange:function(t,a){return e.setState({day:a})},min:0,max:this.state.sliderRange-1,marks:this.state.sliderMarks})))}}]),a}(r.a.Component);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(E,null)),document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.d6b3aa67.chunk.js.map